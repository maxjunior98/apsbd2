CREATE TABLE ENDERECOS (
	CIDADE VARCHAR(30),
	PRINCIPAL BOOL,
	ESTADO VARCHAR(20),
	RUA VARCHAR(20),
	CEP VARCHAR(8),
	CONSTRAINT PKEND PRIMARY KEY (CEP)
)

CREATE TABLE CLIENTES (
	NOME VARCHAR(30),
	CPF VARCHAR(16),
	IDCONTA serial,
	CEP VARCHAR(8) REFERENCES ENDERECOS(CEP),
	CONSTRAINT PKCLIENTE PRIMARY KEY (IDCONTA)
)

CREATE TABLE LOJAS(
	CNPJ VARCHAR(16),
	NOMELOJA VARCHAR(100),
	STAT VARCHAR(2),
	IDLOJA SERIAL,
	ENDERECO VARCHAR(100),
	CONSTRAINT PKLOJA PRIMARY KEY (IDLOJA)
)

CREATE TABLE PRODUTOS(
	PRECO VARCHAR(8),
	QUANTIDADE INTEGER,
	CATEGORIA VARCHAR(16),
	IDPRODUTO SERIAL,
	IDLOJA INTEGER REFERENCES LOJAS(IDLOJA),
	CONSTRAINT PKPROD PRIMARY KEY (IDPRODUTO)
)

CREATE TABLE PEDIDOS(
	CODIGOPEDIDO SERIAL,
	DATAPEDIDO DATE,
	IDPRODUTO INTEGER REFERENCES PRODUTOS(IDPRODUTO),
	IDLOJA INTEGER REFERENCES LOJAS(IDLOJA),
	IDCONTA INTEGER REFERENCES CLIENTES(IDCONTA),
	CONSTRAINT PKPED PRIMARY KEY (CODIGOPEDIDO)
)